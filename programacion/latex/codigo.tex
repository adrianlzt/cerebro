% http://en.wikibooks.org/wiki/LaTeX/Packages/Listings
% https://es.sharelatex.com/learn/Code_listing#Captions_and_the_list_of_Listings

% para el copy&paste
\begin{lstlisting}[caption=nombre, frame=single]
\end{lstlisting}


\usepackage{listings}
\lstset{language=Ruby} % el de por defecto

\begin{lstlisting}
var = [2,3,5]

var.each do |c|
  puts "hola: #{c}"
end
\end{lstlisting}

\begin{lstlisting}[language=Python]
import coso

var = 3

for i in var:
  print "hola"
  
return 0
\end{lstlisting}


Para meter el código en un recuadro:
\begin{lstlisting}[language=Ruby,frame=single]

Para meter código de un fichero (deberá estar en el directorio del .tex):
\lstinputlisting[language=Python, firstline=37, lastline=45]{source_filename.py}


Para poner un título (caption) al codigo que vamos a listar:
\begin{lstlisting}[caption=nombre, frame=single]

Esto nos pone "Listing a.b: nombre"

Para cambiar la palabra "Listing" por otra (poner debajo del use package):
\renewcommand{\lstlistingname}{Código}


Para tener un listado de trozos de código:
\lstlistoflistings



% Para tener un lista de trozos de código, y que este aparezca en el índice, deberíamos tener:
\usepackage{listings}
\lstset{language=Ruby}
\renewcommand{\lstlistingname}{Código}
\renewcommand{\lstlistlistingname}{Índice de código}
%...
\begin{document}


\begin{lstlisting}[caption=codigo, frame=single]
if var
  puts "hola"
end
\end{lstlisting}

\addcontentsline{toc}{chapter}{\lstlistlistingname}
\lstlistoflistings
\end{document}
